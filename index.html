<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://fontawesome.com/css/all.min.css" />
    <title>Cartify</title>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg bg-light d-flex justify-content-between ms-3"
    >
      <div class="container-fluid">
        <a class="navbar-brand ms-1 mt-2" href="" id="logo">Cartify</a>
      </div>
      <div class="d-flex">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item me-3 ms-5">
              <a class="nav-link active mt-2" aria-current="page" href="#"
                >Home</a
              >
            </li>
            <li class="nav-item me-3 ms-5">
              <a class="nav-link mt-2" link href="./FAQ.html">FAQ</a>
            </li>
            <li class="nav-item me-3 ms-5">
              <a
                class="nav-link mt-2"
                href="https://wa.me/6282354877197"
                target="_blank"
                >Contact</a
              >
            </li>
            <li class="nav-item me-3 ms-5">
              <button
                type="button"
                class="btn btn-primary mt-2"
                link
                onclick="location.href='./Login.html'"
              >
                Daftar
              </button>
            </li>
            <li class="nav-item me-3 ms-5">
              <button type="button" class="btn btn-primary mt-2">Chart</button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="container mt-5">
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img
              src="./img/mae-mu-GnWKTJlMYsQ-unsplash.jpg"
              class="card-img-top"
              alt="Product Image"
            />
            <div class="card-body">
              <h5 class="card-title">Gelas</h5>
              <p class="card-text">
                Category: Electronics <br />
                Price: $299.99 <br />
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
                nisl eros, pulvinar.
              </p>
              <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img
              src="./img/irene-kredenets-dwKiHoqqxk8-unsplash.jpg"
              class="card-img-top"
              alt="Product Image"
            />
            <div class="card-body">
              <h5 class="card-title">Sepatu 1</h5>
              <p class="card-text">
                Category: Apparel <br />
                Price: $49.99 <br />
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
                nisl eros, pulvinar.
              </p>
              <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <img
              src="./img/imani-bahati-LxVxPA1LOVM-unsplash.jpg"
              class="card-img-top"
              alt="Product Image"
            />
            <div class="card-body">
              <h5 class="card-title">Sepatu 2</h5>
              <p class="card-text">
                Category: Home & Kitchen <br />
                Price: $149.99 <br />
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
                nisl eros, pulvinar.
              </p>
              <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="container mt-3">
      <!-- Input Pencarian -->
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="searchInput" class="form-label">Search</label>
          <input
            type="text"
            class="form-control"
            id="searchInput"
            placeholder="Search products"
            oninput="applyFilters()"
          />
        </div>
        <div class="col-md-4">
          <label for="categoryFilter" class="form-label">Category</label>
          <select
            class="form-select"
            id="categoryFilter"
            onchange="applyFilters()"
          >
            <!-- Opsi kategori akan diisi secara dinamis -->
          </select>
        </div>
        <div class="col-md-4">
          <label for="priceFilter" class="form-label">Max Price ($)</label>
          <input
            type="number"
            class="form-control"
            id="priceFilter"
            placeholder="Enter max price"
            oninput="applyFilters()"
          />
        </div>
      </div>
    </section>

    <!-- Section Tentang Toko Cartify dengan Ui Yang Bagus -->
    <section class="bg-light py-5">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <img
              src="./img/premium_photo-2.jpg"
              alt="Tentang Toko Cartify"
              class="img-fluid"
            />
          </div>
          <div class="col-md-6">
            <h2>Tentang Toko Cartify</h2>
            <p>
              Cartify adalah toko online yang menyediakan berbagai macam produk
              dengan UI yang bagus dan mudah digunakan. Kami menawarkan produk
              berkualitas tinggi dengan harga yang kompetitif. Jangan ragu untuk
              berbelanja di Cartify, kami siap melayani Anda dengan sepenuh
              hati.
            </p>
            <!-- Button More -->
            <a href="#" class="btn btn-primary">More</a>
          </div>
        </div>
      </div>
    </section>

    <footer class="bg-light text-center text-lg-start">
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
        Â© 2024 Copyright: By Alpian |
        <span
          style="color: blue; cursor: pointer"
          data-bs-toggle="modal"
          data-bs-target="#policyModal"
          >Kebijakan</span
        >
      </div>
    </footer>

    <div
      class="modal fade"
      id="policyModal"
      tabindex="-1"
      aria-labelledby="policyModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="policyModalLabel">Kebijakan Konten</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            Kebijakan konten ini berisi informasi yang diperlukan untuk
            penggunaan situs web ini. Anda diwajibkan membaca dan memahami
            kebijakan ini sebelum menggunakannya. Jika Anda tidak setuju dengan
            kebijakan ini, maka Anda tidak diizinkan menggunakannya.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Fungsi untuk membuka navigasi samping dengan animasi
      function openNav() {
        const sidenav = document.getElementById("mySidenav");
        sidenav.style.width = "250px";
        sidenav.style.transition = "width 0.3s ease-in-out";
      }

      // Fungsi untuk menutup navigasi samping dengan animasi
      function closeNav() {
        const sidenav = document.getElementById("mySidenav");
        sidenav.style.width = "0";
        sidenav.style.transition = "width 0.3s ease-in-out";
      }

      function refreshLogo() {
        document.getElementById("logo").innerHTML = "Cartify";
        location.reload();
      }

      // Contoh data produk
      const products = [
        {
          id: 1,
          name: "Gelas",
          category: "Electronics",
          price: 299.99,
          img: "./img/mae-mu-GnWKTJlMYsQ-unsplash.jpg",
          discount: 10,
        },
        {
          id: 2,
          name: "Sepatu 1",
          category: "Apparel",
          price: 49.99,
          img: "./img/irene-kredenets-dwKiHoqqxk8-unsplash.jpg",
        },
        {
          id: 3,
          name: "Sepatu 2",
          category: "Home & Kitchen",
          price: 149.99,
          img: "./img/imani-bahati-LxVxPA1LOVM-unsplash.jpg",
          discount: 20,
        },
        {
          id: 4,
          name: "Headphone",
          category: "Electronics",
          price: 99.99,
          img: "./img/andrey-matveev-UgM8JMcU9K8-unsplash.jpg",
        },
        {
          id: 5,
          name: "Tas",
          category: "Apparel",
          price: 59.99,
          img: "./img/ika-dam-4sd8uKS3nM0-unsplash.jpg",
          discount: 15,
        },
      ];

      let currentPage = 1;
      const itemsPerPage = 3;
      const categories = [
        "All",
        ...new Set(products.map((product) => product.category)),
      ];

      // Render Produk
      function renderProducts(filteredProducts) {
        const productContainer = document.querySelector(".row");
        productContainer.innerHTML = "";

        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;
        const paginatedProducts = filteredProducts.slice(start, end);

        paginatedProducts.forEach((product) => {
          const discountedPrice = product.discount
            ? (product.price * (1 - product.discount / 100)).toFixed(2)
            : product.price.toFixed(2);
          const discountInfo = product.discount
            ? `<small class="text-danger">Discount: ${product.discount}%</small><br /><strong class="text-success">Now: $${discountedPrice}</strong>`
            : `<strong>Price: $${discountedPrice}</strong>`;

          productContainer.innerHTML += `
            <div class="col-md-4 mb-4">
              <div class="card h-100">
                <img src="${product.img}" class="card-img-top" alt="${product.name}" />
                <div class="card-body">
                  <h5 class="card-title">${product.name}</h5>
                  <p class="card-text">
                    Category: ${product.category} <br />
                    ${discountInfo}
                    <br />
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  </p>
                  <a href="#" class="btn btn-primary">Buy Now</a>
                </div>
              </div>
            </div>`;
        });
      }

      // Render Kategori
      function renderCategories() {
        const categorySelect = document.getElementById("categoryFilter");
        categories.forEach((category) => {
          categorySelect.innerHTML += `<option value="${category}">${category}</option>`;
        });
      }

      // Render Pagination
      function renderPagination(totalItems) {
        const paginationContainer = document.getElementById("pagination");
        const totalPages = Math.ceil(totalItems / itemsPerPage);
        paginationContainer.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
          paginationContainer.innerHTML += `<button class="btn btn-outline-primary mx-1" onclick="changePage(${i})">${i}</button>`;
        }
      }

      // Ganti Halaman
      function changePage(page) {
        currentPage = page;
        applyFilters();
      }

      // Terapkan Filter
      function applyFilters() {
        const category = document.getElementById("categoryFilter").value;
        const maxPrice =
          parseFloat(document.getElementById("priceFilter").value) || Infinity;

        const filteredProducts = products.filter(
          (product) =>
            (category === "All" || product.category === category) &&
            product.price <= maxPrice
        );

        renderProducts(filteredProducts);
        renderPagination(filteredProducts.length);
      }

      // Inisialisasi
      document.addEventListener("DOMContentLoaded", () => {
        renderCategories();
        applyFilters();
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
